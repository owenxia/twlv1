     <div class="row">
        <div class="col-md-8">       

          <% if can? :create, @experience %>
            <div class="pull-right btn-create-experience">
              <%= link_to 'Create Travel Experience', new_experience_path, class: "btn btn-info btn-sm" %>
            </div>
          <% end %>

          <h1>Travel Experiences</h1>

        </div>

        <div class="col-md-4">
          <div class="panel panel-search">
            <div class="panel-body">

              <%= form_tag experiences_path, class: "form-inline", method: :get do %>
                <%= text_field_tag :search, params[:search], class: "form-control margin-search-action" %>
                <%= submit_tag "Search", name: nil, class: "btn btn-primary margin-search-action" %>
              <% end %>

            </div>
          </div>         
        </div> <!-- /col -->
      </div>

      <div class="row">
        <div class="col-md-12">  
          <% if params[:search] %>
            <% if params[:search].empty? %>
              <div class="results-display-no-result">Please enter a search term.</div>
            <% elsif @experiences.empty? %>
              <div class="results-display-no-result">No such travel experience.</div>
            <% else %>
              <div class="results-display">Showing travel experiences of "<%= params[:search] %>":</div>
            <% end %>
          <% end %>

          <% if params[:tag] %>
            <div class="results-display">Showing travel experiences of "<%= params[:tag] %>":</div>
          <% end %>
          <% if params[:continent] %>
            <div class="results-display">Showing travel experiences of "<%= params[:continent] %>":</div>
          <% end %>
          <% if params[:country] %>
            <div class="results-display">Showing travel experiences of "<%= params[:country] %>":</div>
          <% end %>
          <% if params[:city] %>
            <div class="results-display">Showing travel experiences of "<%= params[:city] %>":</div>
          <% end %>

          
          <div id="experiences">
            <%= render @experiences %>
          </div>

          <div class="text-center"><%= paginate @experiences %></div>

        </div> <!-- /col -->
      </div> <!-- /row -->


<script>
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map-experience-list'}}, function(){
    markers = handler.addMarkers(<%= @hash_experience_list.to_json.html_safe %>);

    // if there's only one marker, center map, zoom out
    <% if @hash_experience_list.size == 1 %>
      // to center on a marker
      handler.map.centerOn(markers[0]); 
      // to set the map zoom
      handler.getMap().setZoom(4);
    // if more than one marker, zoom to fit
    <% else %>
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    <% end %>
});
</script>
